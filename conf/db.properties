[oracle-jdbc]
driver=oracle.jdbc.driver.OracleDriver
url=jdbc:oracle:thin:@10.12.1.128:1521:obidb2
username=sysdss_dc
password=sysdss_dc
DbEncouding=GBK
FtpServerEncoding=GBK
kerberos_count=gdip@HADOOP.COM
if_kerberos=true
if_ha=true
namenode_main=cloud001:8020
namenode_bak=cloud003:8020
[db]
sql=SELECT T1.DATABASE_NAME,T1.INSTANCE_IP,T1.INSTANCE_NAME,T3.USER_NAME,T3.PASSWORD, T2.TABLE_NAME,T2.CYCLE FROM SYS_SHAREDATA_MAINT T1,(SELECT DATABASE_NAME,USER_NAME,PASSWORD,ROW_NUMBER() OVER(PARTITION BY DATABASE_NAME ORDER BY USER_NAME DESC) RANK FROM SYS_SHAREDATA_USERS) T3,SYS_SHAREDATA_CYCLE T2 WHERE T2.NAME='DB' AND T1.DATABASE_NAME = T3.DATABASE_NAME AND T3.RANK = 1
SYS_SHAREDATA_INDEXLOCAL=SELECT OWNER,INDEX_NAME,TABLE_NAME,PARTITIONING_TYPE,PARTITION_COUNT,LOCALITY FROM DBA_PART_INDEXES, V$DATABASE A WHERE OWNER NOT IN ('SYSTEM', 'SYS')
SYS_SHAREDATA_HITRATIO=SELECT '\u6570\u636E\u7F13\u51B2\u533A',ROUND(((A.VALUE + B.VALUE) - C.VALUE) / (A.VALUE + B.VALUE))  FROM V$SYSSTAT A, V$SYSSTAT B, V$SYSSTAT C, V$DATABASE E WHERE A.STATISTIC\# \= 38  AND B.STATISTIC\# \= 39  AND C.STATISTIC\# \= 40 UNION ALL SELECT A.NAME, HITRATIO  FROM (SELECT '\u5171\u4EAB\u6C60' NAME, SUM(PINHITS - RELOADS) / SUM(PINS) HITRATIO FROM V$LIBRARYCACHE) A,V$DATABASE E UNION ALL SELECT CASE A.NAME WHEN 'redo copy' THEN '\u91CD\u505A\u65E5\u5FD7\u590D\u5236' WHEN 'redo allocation' THEN '\u91CD\u505A\u65E5\u5FD7\u7533\u8BF7' END, 1 - MISSES / GETS  FROM V$LATCH A, V$DATABASE E WHERE A.NAME IN ('redo allocation', 'redo copy')
SYS_SHAREDATA_SESSION=SELECT  B.SID ,B.STATUS ,B.USERNAME ,B.OSUSER,B.MACHINE, B.CLIENT_INFO ,B.PROGRAM FROM V$SESSION B ,V$DATABASE A WHERE B.USERNAME IS NOT NULL
SYS_SHAREDATA_DATABASEINFO=select '\u6570\u636E\u5E93\u7248\u672C' ,a.version  from v$instance a , v$database b union all select '\u5F52\u6863\u6A21\u5F0F' ,b.log_mode  from v$database b union all select '\u56DE\u6536\u7AD9' ,a.value  from v$parameter a,v$database b  where a.name\='recyclebin' union all select 'Buffer Cache Size\uFF08mb)' ,to_char(a.bytes/1024/1024)  from v$sgainfo a,v$database b where a.name\='Buffer Cache Size' union all select 'Shared Pool Size\uFF08mb)' ,to_char(a.bytes/1024/1024)  from v$sgainfo a,v$database b where a.name\='Shared Pool Size' union all select 'Large Pool Size\uFF08mb)' ,to_char(a.bytes/1024/1024)  from v$sgainfo a,v$database b where a.name\='Large Pool Size' union all select 'Java Pool Size\uFF08mb)' ,to_char(a.bytes/1024/1024)  from v$sgainfo a,v$database b where a.name\='Java Pool Size' union all select 'Streams Pool Size\uFF08mb)' ,to_char(a.bytes/1024/1024)  from v$sgainfo a,v$database b where a.name\='Streams Pool Size' union all select 'DB_BLOCK_SIZE\uFF08Bytes)' ,to_char(a.value)  from v$parameter a,v$database b where a.name\='db_block_size' union all select '\u8868\u7A7A\u95F4\u6570\u91CF' ,to_char(a.value)  from (select count(*) value from dba_tablespaces)  a,v$database b  union all select '\u6570\u636E\u6587\u4EF6\u6570\u91CF' ,to_char(a.value)  from (select count(*) value from dba_data_files)  a,v$database b  union all select '\u63A7\u5236\u6587\u4EF6\u6570\u91CF' ,to_char(a.value)  from (select count(*) value from v$controlfile)  a,v$database b  union all select '\u4E34\u65F6\u8868\u7A7A\u95F4\u5927\u5C0F(mb)' ,to_char(a.value)  from (select sum(bytes/1024/1024) value from dba_temp_files) a,v$database b  union all select 'UNDO\u8868\u7A7A\u95F4\u5927\u5C0F(mb)' ,to_char(a.value)  from (select sum(bytes/1024/1024) value from dba_data_files where tablespace_name\=(select value from v$parameter where name \= 'undo_tablespace')) a,v$database b  union all select 'redo log \u7EC4\u4E2A\u6570' ,to_char(a.value)  from (select count(*) value from v$log) a,v$database b  union all select 'redo log\u5927\u5C0F(mb)' ,to_char(a.value)  from (select distinct bytes/1024/1024 value from v$log) a,v$database b
SYS_SHAREDATA_INDEXERR=SELECT B.OWNER,B.INDEX_NAME,B.STATUS FROM DBA_INDEXES B,V$DATABASE A WHERE STATUS IN('INVALID','UNUSABLE')
SYS_SHAREDATA_JOBERR=SELECT B.JOB,B.LOG_USER,B.BROKEN,B.FAILURES,B.WHAT FROM DBA_JOBS B,V$DATABASE A WHERE B.BROKEN='Y' AND B.FAILURES >0
SYS_SHAREDATA_TOPSQL=SELECT A.* FROM (SELECT BUFFER_GETS "\u7F13\u5B58\u8BFB\u53D6\u6B21\u6570",DISK_READS "\u78C1\u76D8\u8BFB\u6B21\u6570",EXECUTIONS "\u8FD0\u884C\u6B21\u6570",(BUFFER_GETS+1)/(EXECUTIONS+1) "\u7F13\u5B58\u8BFB\u5360\u6BD4", SQL_TEXT "SQL\u8BED\u53E5" FROM V$SQL ORDER BY DISK_READS DESC)  A,V$DATABASE B  WHERE ROWNUM<\=5
[server-linux]
serversql=SELECT T1.HOST_IP,T1.USER_NAM,T1.PASSWORD,T2.TABLE_NAME,T1.OS,T1.CONN_TYPE,T2.CYCLE FROM SYS_SHAREDATA_SERVER_INFO T1,SYS_SHAREDATA_CYCLE T2 WHERE T2.NAME='SERVER'
SYS_SHAREDATA_SERVER_CAPACITY=echo `cat /proc/cpuinfo|grep processor|wc -l`'*'`cat /proc/cpuinfo |grep 'model name' |sort|uniq|awk -F '@ ' '{print $2}'`;sar -u 1 1|tail -1|awk '{print $3}'; head -2 /proc/meminfo|awk '{print $2}';ps -ef|wc -l;ulimit -a|grep 'max user processes'|awk '{print $5}'
SYS_SHAREDATA_DISK_CAPACITY=export LANG\=C;df -k
[server-solaris]
SYS_SHAREDATA_SERVER_CAPACITY_SOLARIS=echo `psrinfo -v | grep 'Status'|wc -l`'*'`psrinfo -v|grep  Hz|awk '{print $6$7}'|cut -d ',' -f1|uniq`;prstat  1 1|awk '{if(NR==2)print $9}';prtconf | grep Mem|awk '{print $3}';vmstat|tail -1|awk '{print $5}';ps -ef|wc -l;ulimit -a|grep 'max user processes'|awk '{print $5}';
SYS_SHAREDATA_DISK_CAPACITY_SOLARIS=df -k
[server-aix]
SYS_SHAREDATA_SERVER_CAPACITY_AIX=echo `pmcycles -m|wc -l`"*"`pmcycles -m|grep Hz|awk  '{print $5$6}'|uniq`;vmstat|tail -1|awk '{print $14}';vmstat|grep mem=|awk -F '=' '{print $3}';vmstat|tail -1|awk '{print $4}';echo `ps -ef|wc -l`;ulimit -a|grep 'max user processes'|awk '{print $5}';
SYS_SHAREDATA_DISK_CAPACITY_AIX=df -k